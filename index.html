<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto Sem Limites</title>

    <link rel="stylesheet" href="styles.css">

    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.4.1/dist/email.min.js"></script>

    <script type="text/javascript">
        (function(){
            emailjs.init("C41SlctzzG_SX-5q3"); // chave pública
        })();
    </script>
</head>
<body>

    <div class="form-container">
        <h2>Contatos</h2>

        <form id="contact_form">

            <label>Nome:</label>
            <input type="text" id="name" name="user_name" required>

            <label>Email:</label>
            <input type="email" id="email" name="user_email" required> 

            <label>Mensagem:</label>
            <textarea id="Mensagem" name="message" required></textarea>

            <button type="submit">Enviar</button>

            <p id="response"></p>
 
        </form>

        <div>

            <script>

                const form = document.getElementById('contact_form');

                // adiciona um listener ao formulário para capturar o envio
                form.addEventListener("submit", function(event){
                    event.preventDefault(); // previne o carregamento da página

                    emailjs.sendForm("service_5wxc0nw","template_8wmocdc", this)
                    .then(function(response){
                        // se o envio for sucesso, exibe essa mensagem
                        document.getElementById("response").innerText= "Email enviado com sucesso!";
                        form.reset(); // limpa o formulário
                    }, function(error) {
                        // se falhar, exibe essa mensagem
                        document.getElementById("response").innerText = "Falha no envio do email.";
                    });
                });

            </script>

        </div>

    </div>
    
</body>
</html>
